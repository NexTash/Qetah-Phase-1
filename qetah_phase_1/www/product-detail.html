{% extends "templates/primary.html" %}

{% block title %} QETAH | Product Detail {% endblock %}

{% block content %}
<!-- sidebar start -->
<aside id="sidebar" class="sidebar-header" :class="{'static-sidebar': isStatic}" x-data="{ sidebarOpen: false }">
  <!-- Course Sidebar Header -->
  <header class="program-sidebar">
    <div class="program-sidebar-brand">
      <div class="sidebar-brand">
        <!-- Large Logo -->
        <a href="#" class="lg-logo" x-show="isStatic">
          <img src="/assets/qetah_phase_1/images/black-qetah-removebg-preview.png" width="100px" class="lg-img"
            alt="Logo" />
        </a>
        <!-- Small Logo -->
        <a href="#" class="sm-logo">
          <img src="/assets/qetah_phase_1/images/WhatsApp_Image_2024-08-08_at_13.44.53_b31d506f-removebg-preview.png"
            class="sm-img" alt="Responsive Logo" width="30px" />
        </a>
      </div>
    </div>
    <div class="sidebar-auth">
      <a href="/index" data-target="sidebar-tooltip" data-title="Home">
        <img src="/assets/qetah_phase_1/images/black-qetah-removebg-preview.png" class="logo-header" width="20px"
          height="20px" alt="" srcset="">
        <br>
      </a>
      <a href="/index" data-target="sidebar-tooltip" data-title="Home">
        <div class="auth-media ">
          <i class="bx bx-home"></i>
          <div class="auth-intro" x-show="isStatic" x-cloak>
            <h3 class="heading"><a href="/index">Home</a></h3>
          </div>
        </div>
      </a>
      <a href="">
        <hr style="height: 2px;border: none; background-color: rgb(150, 150, 150);">
        <span class="divider divider-text divider-secondary">About</span>
      </a>
      <a href="/story" data-target="sidebar-tooltip" data-title="Story">
        <div class="auth-media sidebar-active">
          <i class="bx bx-book"></i>
          <div class="auth-intro" x-show="isStatic" x-cloak>
            <h3 class="heading"><a href="/story">Story</a></h3>
          </div>
        </div>
      </a>
      <a href="/Blogs" data-target="sidebar-tooltip" data-title="Blogs">
        <div class="auth-media">
          <i class="bx bx-spreadsheet"></i>
          <div class="auth-intro" x-show="isStatic" x-cloak>
            <h3 class="heading"><a href="/Blogs">Blogs</a></h3>
          </div>
        </div>
      </a>
      <a href="/contact-us" data-target="sidebar-tooltip" data-title="Contact Us">
        <div class="auth-media">
          <i class="bx bx-phone"></i>
          <div class="auth-intro" x-show="isStatic" x-cloak>
            <h3 class="heading">
              <a href="/contact-us">Contact Us</a>
            </h3>
          </div>
        </div>
      </a>
      <a href="">
        <hr style="height: 2px;border: none; background-color: rgb(150, 150, 150);">
        <span class="divider divider-text divider-secondary">About</span>
      </a>
      <a href="/product" data-target="sidebar-tooltip" data-title="Shop">
        <div class="auth-media">
          <i class="bx bx-store"></i>
          <div class="auth-intro" x-show="isStatic" x-cloak>
            <h3 class="heading"><a href="/product">Shop</a></h3>
          </div>
        </div>
      </a>

      <!-- Men's Collection Dropdown -->
      <div class="auth-media">
        <a href="/product" data-target="sidebar-tooltip" data-title="Men's collection">
          <i class="bx bx-male"></i>
        </a>
        <div class="auth-intro" x-show="isStatic" x-cloak>
          <div x-data="{ open: false }">
            <div @click="open = !open" class="cursor-pointer">
              <h6 class="text-center text-dark side-coll" style="cursor: pointer;font-size: 14px ; ">
                Men's Collection
              </h6>
              <i class="bx bx-chevron-down"></i>
            </div>
            <div class="drops" x-show="open" x-cloak>
              <ul class="ml-4">
                <li><a href="/product">Unstitched</a></li>
                <li><a href="/product">Readymade Clothes</a></li>
                <li><a href="/product">Accessories</a></li>
                <li><a href="/product">Perfumes</a></li>
                <li><a href="/product">Cutting, Stitching</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <!-- Women's Collection Dropdown -->
      <div class="auth-media">
        <a href="/product" data-target="sidebar-tooltip" data-title="Women's collection">
          <i class="bx bx-female"></i>
        </a>
        <div class="auth-intro" x-show="isStatic" x-cloak>
          <div x-data="{ open: false }">
            <div @click="open = !open" class="cursor-pointer">
              <h6 class="text-center text-dark side-coll" style="cursor: pointer;font-size: 14px;">
                Women's Collection
              </h6>
              <i class="bx bx-chevron-down"></i>
            </div>
            <div class="drops" x-show="open" x-cloak>
              <ul class="list ml-4">
                <li><a href="/product">Unstitched</a></li>
                <li><a href="/product">Readymade Clothes</a></li>
                <li><a href="/product">Accessories</a></li>
                <li><a href="/product">Perfumes</a></li>
                <li><a href="/product">Cutting, Stitching</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <a href="">
        <hr style="height: 2px;border: none; background-color: rgb(150, 150, 150);">
        <span class="divider divider-text divider-secondary">Cart</span>
      </a>
      <a href="/cart-items" data-target="sidebar-tooltip" data-title="Cart">
        <div class="auth-media">
          <i class="bx bx-cart"></i>
          <div class="auth-intro" x-show="isStatic" x-cloak>
            <h3 class="heading">
              <a href="/cart-items">Cart</a>
            </h3>
          </div>
        </div>
      </a>
      <div class="language">
        <a href="">
          <hr style="height: 2px;border: none; background-color: rgb(150, 150, 150);">
          <span class="divider divider-text divider-secondary">Languages</span>
        </a>
        <div class="field field-inline field-light">
          <select name="" id="" class="field-select" style="background-image: none !important;">
            <option value="Option">ENG</option>
            <option value="Option">ARA</option>
          </select>
        </div>
        <!-- Additional Sidebar Items -->
      </div>
    </div>
  </header>
  <!-- Course Sidebar Header End -->
</aside>
<!--/ Course Sidebar End -->
<div class="content-area" :class="{'shifted-content': isStatic}">
  <div class="container detailed-product">
    <div class="row row-col-2">
      <div class="row row-col-2">
        {% for product in products %}
        <div class="col product-image-area">
          <div class="images">
            <div class="product-image-group">
              {% for image in product.images %}
              <img src="{{ image.images }}" alt="Product Image" class="img" data-target="img{{ loop.index }}" />
              {% endfor %}

            </div>
            <div class="product-image">
              <img id="img1" src="{{product.featured_image}}" alt="Main Product Image" class="img main-img" />
            </div>
          </div>
        </div>

        <div class="col product-content-area">
          <div class="product-detail-content">
            <div class="product-head">
              {% if product.variations %}
              {% for variation in product.variations %}
              <p>{{ variation.intro }}</p>
              <h1>{{ variation.title }}</h1>
              <div class="product-body">
                <div class="content-body">
                  <h2 class="price-head">$
                    {{ variation.price }} <span class="hori">|</span>
                    <div class="badge badge-danger badge-pill">{{ product.category }}</div>
                  </h2>
                  <div class="content">
                    <p class="text-ellipsis text-ellipsis-3">{{ variation.description }}</p>
                  </div>
                  <div class="sizes">
                    <button class="btn btn-light btn-sm">sm</button>
                    <button class="btn btn-light btn-sm">lg</button>
                    <button class="btn btn-light btn-sm active">md</button>
                    <button class="btn btn-light btn-sm">xl</button>
                    <button class="btn btn-light btn-sm">xxl</button>
                  </div>
                  <div class="icon">
                    <i class="bx bx-cart"></i>
                    <p>{{ product.title }}</p>
                  </div>
                </div>
              </div>
              {% endfor %}
              {% else %}
              <p>No variations available</p>
              {% endif %}
            </div>
            <div class="product-foot">
              <div class="btn-group">



                <button id="addToCartBtn" class="btn btn-secondary btn-lg btn-icon">
                  <i class="bx bx-cart icon-pre"></i>Add To Cart
                </button>


                <button class="btn btn-light btn-lg btn-icon">
                  <i class="bx bx-heart icon-pre"></i>Save To Wishlist
                </button>
              </div>
              <div class="icon-group">
                <button class="btn btn-light btn-circle btn-sm">
                  <i class="bx bxl-facebook"></i>
                </button>
                <button class="btn btn-light btn-circle btn-sm">
                  <i class="bx bxl-instagram"></i>
                </button>
                <button class="btn btn-light btn-circle btn-sm">
                  <i class="bx bxl-twitter"></i>
                </button>
                <button class="btn btn-light btn-circle btn-sm">
                  <i class="bx bxl-whatsapp"></i>
                </button>
                <button class="btn btn-light btn-circle btn-sm">
                  <i class="bx bxl-gmail"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="product-details-content">
          {{ product.description }}
        </div>
        {% endfor %}
      </div>




      <div class="container products">
        <h1 class="text-start">Related Product</h1>
        <!-- Slider main container -->
        <div class="swiper product-slider">
          <!-- Additional required wrapper -->
          <div class="swiper-wrapper">
            <!-- Slides -->
            {% for product in products %}

            {% for variation in product.variations %}
            <div class="swiper-slide">
              <div class="products">
                <div class="badge badge-primary badge-pill">{{ variation.title }}</div>
                <div class="card product-card">
                  <a href="/product-detail?id={{product.name}}">
                    <div class="card-head">
                      <img class="card-image"
                        src="https://d2v5dzhdg4zhx3.cloudfront.net/web-assets/images/storypages/primary/ProductShowcasesampleimages/JPEG/Product+Showcase-1.jpg">
                    </div>
                    <div class="card-body">
                      <div class="card-title">{{ variation.intro }}</div>
                      <div class="card-desc text-ellipsis text-ellipsis-2">
                        {{ variation.description }}
                      </div>
                      <div class="card-subtitle"><del>USD {{ variation.price }}</del></div>
                      <div class="card-title">USD {{ variation.discount }}</div>
                      <div class="card-rating">
                        <i class="bx bxs-star"></i>
                        <span>{{ product.rating_count }}</span> ({{ product.sold }} Sold)
                      </div>
                    </div>
                  </a>
                  <div class="card-foot">
                    <button class="btn btn-light btn-icon btn-pill"><i class="bx bx-cart icon-pre"></i> Buy Now</button>
                    <button class="btn btn-light btn-icon btn-circle bx bx-heart"></button>
                  </div>
                </div>


              </div>
            </div>

            {% endfor %}


            {% endfor %}

          </div>
          <button class="slide-next btn btn-secondary btn-sm bx bx-right-arrow-alt"></button>
          <button class="slide-prev btn btn-secondary btn-sm bx bx-left-arrow-alt"></button>
        </div>
      </div>
      <div class="container customer-reviews">
        <div class="badge badge-o-dark badge-pill">Reviews</div>
        <h1 class="text-center" data-aos="fade-up" data-aos-anchor-placement="center-center">What Our Customers Say</h1>
        <div class="border text-center"></div>
        <div class="slide-container text-center">
          <div class="swiper-wrapper">
            {% for testimonil in testimonils %}
            <div class="swiper-slide review-content">
              <p>{{testimonil.feedback}}</p>
              <h2 class="fw-bold reviewer-name">{{testimonil.full_name}}</h2>
              <i class="company-name">{{testimonil.designation}}</i>
            </div>
            {% endfor %}
          </div>
          <!-- Navigation buttons -->
          <div class="swiper-button-prev"></div>
          <div class="swiper-button-next"></div>
        </div>
      </div>

      {% endblock %}




      {% block scripts %}



      <!-- product -->
      <script>
        const thumbnails = document.querySelectorAll('.product-image-group .img');
        const largeImages = document.querySelectorAll('.product-image .main-img');

        thumbnails.forEach((thumbnail) => {
          thumbnail.addEventListener('click', function () {
            // Hide all large images
            largeImages.forEach((img) => {
              img.style.display = 'none';
            });

            // Show the large image that matches the clicked thumbnail's data-target
            const targetId = this.getAttribute('data-target');
            const targetImage = document.getElementById(targetId);
            if (targetImage) {
              targetImage.style.display = 'block';
            }
          });
        });
      </script>
      <!-- sizes -->
      <script>
        const sizeButtons = document.querySelectorAll('.sizes .btn');

        sizeButtons.forEach((button) => {
          button.addEventListener('click', function () {
            // Remove the 'active' class from all buttons
            sizeButtons.forEach((btn) => btn.classList.remove('active'));

            // Add the 'active' class to the clicked button
            this.classList.add('active');
          });
        });
      </script>
      <!-- header-fixed
 <script>
  let lastScrollTop = 0;
  const header = document.getElementById("header");

  window.addEventListener("scroll", function() {
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

      if (scrollTop < lastScrollTop) {
          // Scroll up - show header
          header.style.transform = "translateY(0)";
      } else {
          // Scroll down - hide header
          header.style.transform = "translateY(-100%)";
      }

      lastScrollTop = scrollTop <= 0 ? 0 : scrollTop; // For Mobile or negative scrolling
  });
</script> -->
      {% endblock %}